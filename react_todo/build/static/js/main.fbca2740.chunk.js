(this.webpackJsonpreact_todo=this.webpackJsonpreact_todo||[]).push([[0],{105:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),o=a(7),c=a.n(o),l=(a(80),a(81),a(43)),s=a(41),i=a(12),u=a(13),m=a(15),d=a(14),h=a(16),p=a.n(h),f=a(146),v=a(49),g=a.n(v),y=a(65),E=function(t){Object(m.a)(a,t);var e=Object(d.a)(a);function a(){var t;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).state={value:"",showDeleteButton:!1,editMode:!1,plan:t.props.plan},t.deleteFromArr=function(){t.props.dell(t.props.id)},t.checkedItem=function(e){t.props.updateObject(t.props.id,e.target.checked,"done")},t.editPlan=function(){t.props.check||t.setState({editMode:!0,value:t.props.plan})},t.inputChange=function(e){t.setState({value:e.target.value})},t.changeState=function(e,a){t.props.updateObject(e,a,"plan")},t.saveByEnter=function(){var e=Object(y.a)(g.a.mark((function e(a){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"Enter"===a.key&&(t.props.controleInput(t.props.id,a.target.value),t.setState({editMode:!1}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.closeButtons=function(){t.setState({showDeleteButton:!t.state.showDeleteButton})},t}return Object(u.a)(a,[{key:"render",value:function(){var t=this.props.check?"txt":"",e=this.state.editMode?"folsemode":"",a=this.state.editMode?"trumode":"folsemode",n=this.props.check?"round_input_checked_label":"",o=this.state.showDeleteButton?"unHideButton":"closeButton",c=this.props.check?"round_label_after":"closeButton";return r.a.createElement("li",{className:"list-group-item todo_marking",onMouseEnter:this.closeButtons,onMouseLeave:this.closeButtons},r.a.createElement("div",{className:"inline"},r.a.createElement("div",{className:"round"},r.a.createElement("input",{type:"checkbox",id:"".concat(this.props.id),onChange:this.checkedItem,className:"round_input ".concat(n)}),r.a.createElement("label",{className:"round_label",htmlFor:"".concat(this.props.id)}),r.a.createElement("label",{className:c,htmlFor:"".concat(this.props.id)})),r.a.createElement("input",{type:"text",className:a,value:this.state.value,onChange:this.inputChange,onKeyDown:this.saveByEnter}),r.a.createElement("p",{className:"".concat(t," ").concat(e),onDoubleClick:this.editPlan},this.props.plan),r.a.createElement("button",{onClick:this.deleteFromArr,className:"".concat(o," inlineButton")},"X")))}}]),a}(r.a.Component),b=a(66),k="https://georgiantodo.herokuapp.com/",w="http://localhost:4000/",O=function(t){Object(m.a)(a,t);var e=Object(d.a)(a);function a(){var t;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).state={All:"button_active",Active:"",Done:"",Clear:"",someText:""},t.changeState=function(e){var a=Object(b.a)({},t.state);for(var n in a)n===e.target.value?a[n]="button_active":a[n]="";t.setState(a)},t.filter=function(e){t.changeState(e),t.props.changefilterState(e.target.value)},t.clearCompleted=function(e){t.changeState(e),p.a.delete("".concat(k,"task/delete"),{data:{done:!0}}).then((function(e){t.props.clearCompleted(e.data.result)}))},t}return Object(u.a)(a,[{key:"render",value:function(){var t=this.props.arrayLength?"bottom_container_more":"bottom_container",e=this.props.count<2?"item left":"items left";return r.a.createElement("div",{className:t},r.a.createElement("div",{className:"buttons_container"},r.a.createElement("p",{className:"text_counter"},"".concat(e," ").concat(this.props.count)),r.a.createElement("button",{type:"button",className:"button_style ".concat(this.state.All),onClick:this.filter,value:"All"},"All"),r.a.createElement("button",{type:"button",className:"button_style ".concat(this.state.Active),onClick:this.filter,value:"Active"},"Active"),r.a.createElement("button",{type:"button",className:"button_style ".concat(this.state.Done),onClick:this.filter,value:"Done"},"Done"),r.a.createElement("button",{type:"button",className:"button_style ".concat(this.state.Clear),onClick:this.clearCompleted,value:"Clear"},"Clear completed")))}}]),a}(r.a.Component),j=function(t){Object(m.a)(a,t);var e=Object(d.a)(a);function a(){var t;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).state={filterState:"All"},t.changefilterState=function(e){t.setState({filterState:e})},t}return Object(u.a)(a,[{key:"render",value:function(){var t=this,e=0,a=this.state.filterState,n=this.props.items.map((function(n,o){var c=r.a.createElement(E,{key:o,editMode:n.editMode,plan:n.plan,dell:t.props.deleteItem,id:n._id,check:n.done,updateObject:t.props.updateObject,controleInput:t.props.checkInput,filtredArr:t.props.clearArr,userId:n.user_id});return"All"===a?(e++,c):"Active"!==a||n.done?"Done"===a&&n.done?(e++,c):"Clear"!==a||n.done?void 0:(e++,c):(e++,c)}));return r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"bottom_menu"},r.a.createElement("ul",{className:"list-group"},n),r.a.createElement(O,{changefilterState:this.changefilterState,count:e,arrayLength:this.props.items.length,clearCompleted:this.props.clearArr})))}}]),a}(r.a.Component),S=function(t){Object(m.a)(a,t);var e=Object(d.a)(a);function a(){var t;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).state={plan:"",done:!1,id:"",editMode:!1,onClick:!1},t.onHandleChange=function(e){t.setState({plan:e.target.value})},t.addByEnter=function(e){if("Enter"===e.key&&null===localStorage.getItem("token"))window.location="".concat(k);else if("Enter"===e.key){if(!t.state.plan.trim())return;var a=t.state.plan,n={Authorization:localStorage.getItem("token")};p.a.post("".concat(k,"task/create"),{plan:a},{headers:n}).then((function(e){t.props.createItem(e.data.result),t.setState({plan:""})})).catch((function(t){console.log(t)}))}},t.checkAllFunc=function(){null===localStorage.getItem("token")?window.location="".concat(k):p.a.put("".concat(k,"task/checkall"),{done:!t.state.done},{headers:{authorization:localStorage.getItem("token")}}).then((function(e){t.props.checkAll(e.data.result),t.setState({done:!t.state.done})})).catch((function(t){console.log(t)}))},t}return Object(u.a)(a,[{key:"render",value:function(){var t=this.state.plan,e=this.props.item>0?"more_then_one":"lower_then_one",a=this.props.click?"more_then_one":"clicked";return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("button",{className:"".concat(e," ").concat(a),onClick:this.checkAllFunc,title:"Click for check and uncheck plans"},"\u2771"),r.a.createElement("input",{className:"form-control form-control-lg",type:"text",placeholder:"What needs to be done?",value:t,onChange:this.onHandleChange,onKeyPress:this.addByEnter})))}}]),a}(r.a.Component),C=function(){return localStorage.getItem("token")||null},I=function(t){Object(m.a)(a,t);var e=Object(d.a)(a);function a(){var t;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).state={arrayItems:[],someClick:!0,authorization:null,logOut:!1},t.createItem=function(e){var a=Object(s.a)(t.state.arrayItems);t.setState({arrayItems:[].concat(Object(s.a)(a),[e])})},t.deleteItem=function(e){p.a.delete("".concat(k,"task/delete/").concat(e),{headers:{authorization:t.state.authorization}}).then((function(e){e.data.error?alert(e.data.error):t.setState({arrayItems:e.data.result})})).catch((function(t){console.log(t)}))},t.updateObject=function(e,a,n){p.a.put("".concat(k,"task/").concat(e,"/update"),Object(l.a)({},n,a),{authorization:t.state.authorization}).then((function(e){t.setState({arrayItems:e.data.result})})).catch((function(t){alert(t)}))},t.controlInput=function(e,a){p.a.put("".concat(k,"task/").concat(e,"/changeplan"),{plan:a},{authorization:t.state.authorization}).then((function(e){t.setState({arrayItems:e.data.result})})).catch((function(t){alert(t)}))},t.clearCompleted=function(e){t.setState({arrayItems:Object(s.a)(e)})},t.checkAll=function(e){t.setState({arrayItems:Object(s.a)(e)})},t.auth=function(e){t.setState({authorization:e})},t.logOut=function(){localStorage.clear(),t.setState({logOut:!0})},t}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var t=this,e=C();e&&p.a.get("".concat(k,"task/get"),{headers:{authorization:e}}).then((function(a){t.setState({arrayItems:a.data.result,authorization:e,logOut:!1})})).catch((function(t){console.log(t)}))}},{key:"render",value:function(){return this.state.logOut&&(window.location="https://mytodo1996.herokuapp.com/"),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-4"},r.a.createElement("h1",{className:"header_h1"},"todos"),r.a.createElement(S,{createItem:this.createItem,checkAll:this.checkAll,item:this.state.arrayItems.length,click:this.state.someClick,mainArr:this.state.arrayItems}),r.a.createElement(j,{checkInput:this.controlInput,items:this.state.arrayItems,deleteItem:this.deleteItem,updateObject:this.updateObject,filterArray:this.filterArray,clearArr:this.clearCompleted}),r.a.createElement(f.a,{onClick:this.logOut},"Log out :("))))}}]),a}(r.a.Component);c.a.render(r.a.createElement(I,null),document.getElementById("root"));var A=I,N=a(147),_=a(148),F=a(141),B=a(142),M=function(t){Object(m.a)(a,t);var e=Object(d.a)(a);function a(){var t;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).state={email:"",password:"",redirect:!1,emailValidationError:!1,passwordValidationError:!1},t.emailFunc=function(e){var a=e.target.value;a.length<5?t.setState({emailValidationError:!0,email:a}):t.setState({emailValidationError:!1,email:a})},t.passwordFunc=function(e){var a=e.target.value;a.length<5?t.setState({passwordValidationError:!0,password:a}):t.setState({passwordValidationError:!1,password:a}),t.setState({password:a})},t.validationFunc=function(){var e=t.state,a=e.email,n=e.password;a?t.setState({emailValidationError:!1}):t.setState({emailValidationError:!0}),n?t.setState({passwordValidationError:!1}):t.setState({passwordValidationError:!0})},t}return Object(u.a)(a,[{key:"render",value:function(){var t=this;return r.a.createElement("div",{className:"signIn"},r.a.createElement("div",{className:"signIn_element"},r.a.createElement(N.a,{error:this.state.emailValidationError},r.a.createElement(_.a,{htmlFor:"my-input"},"Email address"),r.a.createElement(F.a,{id:"my-input","aria-describedby":"my-helper-text",onChange:this.emailFunc}),r.a.createElement(B.a,{id:"my-helper-text"},"We'll never share your email.")),r.a.createElement(N.a,{error:this.state.passwordValidationError},r.a.createElement(_.a,{htmlFor:"my-input"},"Password"),r.a.createElement(F.a,{id:"my-input","aria-describedby":"my-helper-text",onChange:this.passwordFunc,type:"password"}),r.a.createElement(B.a,{id:"my-helper-text"},"Enter Password here>")),r.a.createElement(f.a,{variant:"outlined",color:"primary",onClick:function(){var e=t.state,a=e.email,n=e.password;a||n?(t.validationFunc(),p.a.post("".concat(k,"auth/login"),{email:t.state.email,password:t.state.password}).then((function(e){var a;a=e.data.token,localStorage.setItem("token",a),t.setState({redirect:!0}),t.state.redirect&&setTimeout(t.props.history.push("/"),4e3)})).catch((function(t){console.log(t)}))):t.setState({emailValidationError:!0,passwordValidationError:!0})}},"Log in"),r.a.createElement(f.a,{onClick:function(){t.props.history.push("/register")}},"Register account")))}}]),a}(r.a.Component),z=a(145),D=function(t){Object(m.a)(a,t);var e=Object(d.a)(a);function a(){var t;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).state={userName:"",password:"",email:""},t.usernameFunc=function(e){var a=e.target.value;t.setState({userName:a})},t.emailFunc=function(e){var a=e.target.value;t.setState({email:a})},t.passwordFunc=function(e){var a=e.target.value;t.setState({password:a})},t.completeReg=function(){p.a.post("".concat(k,"user/reg"),{userName:t.state.userName,password:t.state.password,email:t.state.email})},t}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"registration"},r.a.createElement("div",{className:"registration_elements"},r.a.createElement("h3",null,"Registration"),r.a.createElement(z.a,{id:"standard-secondary",label:"Enter username",color:"secondary",onChange:this.usernameFunc}),r.a.createElement(z.a,{id:"standard-secondary",label:"Enter your @",color:"secondary",onChange:this.emailFunc}),r.a.createElement(z.a,{id:"standard-secondary",label:"Enter password",color:"secondary",onChange:this.passwordFunc}),r.a.createElement(f.a,{variant:"outlined",color:"primary",onClick:this.completeReg},"registration"),r.a.createElement(f.a,{href:"/"},"Already have account? sign inI")))}}]),a}(r.a.Component),V=a(52),x=a(143),L=a(144),P=Object(x.a)({root:{width:"100%"}});function R(){var t=P(),e=r.a.useState(0),a=Object(V.a)(e,2),n=a[0],o=a[1],c=r.a.useState(10),l=Object(V.a)(c,2),s=l[0],i=l[1],u=r.a.useRef((function(){}));return r.a.useEffect((function(){u.current=function(){if(n>100)o(0),i(10);else{var t=10*Math.random(),e=10*Math.random();o(n+t),i(n+t+e)}}})),r.a.useEffect((function(){var t=setInterval((function(){u.current()}),500);return function(){clearInterval(t)}}),[]),r.a.createElement("div",{className:t.root},r.a.createElement(L.a,{variant:"buffer",value:n,valueBuffer:s}))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var W,H=a(70),J=a(9),K=r.a.createElement(H.a,null,r.a.createElement("div",null,r.a.createElement(J.c,null,r.a.createElement(J.a,{exact:!0,path:"/login",component:M}),r.a.createElement(J.a,{path:"/register",component:D}),r.a.createElement(J.a,{path:"/",component:(W=A,function(t){Object(m.a)(a,t);var e=Object(d.a)(a);function a(){var t;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).state={validation:!1},t.componentDidMount=function(){C()?t.setState({validation:!0}):t.props.history.push("/login")},t}return Object(u.a)(a,[{key:"render",value:function(){return this.state.validation?r.a.createElement(W,null):r.a.createElement(M,null)}}]),a}(r.a.Component))}),r.a.createElement(J.a,{path:"/",component:function(t){return function(e){Object(m.a)(n,e);var a=Object(d.a)(n);function n(){var t;Object(i.a)(this,n);for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return(t=a.call.apply(a,[this].concat(r))).state={load:!1,authorization:null},t}return Object(u.a)(n,[{key:"UNSAFE_componentWillMount",value:function(){console.log("@@@@@@@@@@@@@@@@@@@willmount"),this.setState({load:!0})}},{key:"componentDidMount",value:function(){var t=this,e=C();e&&p.a.get("".concat(w,"task/get"),{headers:{authorization:e}}).then((function(e){t.setState({load:!1})})).catch((function(t){console.log(t)}))}},{key:"render",value:function(){return this.state.load?r.a.createElement(R,null):r.a.createElement(t,null)}}]),n}(r.a.Component)}(A)}))));c.a.render(K,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))},75:function(t,e,a){t.exports=a(105)},80:function(t,e,a){},81:function(t,e,a){}},[[75,1,2]]]);