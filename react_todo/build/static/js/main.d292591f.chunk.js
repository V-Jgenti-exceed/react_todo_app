(this.webpackJsonpreact_todo=this.webpackJsonpreact_todo||[]).push([[0],{64:function(e,t,a){e.exports=a(94)},69:function(e,t,a){},70:function(e,t,a){},94:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(6),c=a.n(o),l=(a(69),a(70),a(35)),s=a(34),i=a(13),u=a(14),h=a(16),p=a(15),d=a(17),m=a.n(d),f=a(42),v=a.n(f),b=a(56),g=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={value:"",showDeleteButton:!1,editMode:!1,plan:e.props.plan},e.deleteFromArr=function(){e.props.dell(e.props.userId)},e.checkedItem=function(t){e.props.updateObject(e.props.id,t.target.checked,"done")},e.editPlan=function(){e.props.check||e.setState({editMode:!0,value:e.props.plan})},e.inputChange=function(t){e.setState({value:t.target.value})},e.changeState=function(t,a){e.props.updateObject(t,a,"plan")},e.saveByEnter=function(){var t=Object(b.a)(v.a.mark((function t(a){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:"Enter"===a.key&&(e.props.controleInput(e.props.id,a.target.value),e.setState({editMode:!1}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.closeButtons=function(){e.setState({showDeleteButton:!e.state.showDeleteButton})},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this.props.check?"txt":"",t=this.state.editMode?"folsemode":"",a=this.state.editMode?"trumode":"folsemode",n=this.props.check?"round_input_checked_label":"",o=this.state.showDeleteButton?"unHideButton":"closeButton",c=this.props.check?"round_label_after":"closeButton";return r.a.createElement("li",{className:"list-group-item todo_marking",onMouseEnter:this.closeButtons,onMouseLeave:this.closeButtons},r.a.createElement("div",{className:"inline"},r.a.createElement("div",{className:"round"},r.a.createElement("input",{type:"checkbox",id:"".concat(this.props.id),onChange:this.checkedItem,className:"round_input ".concat(n)}),r.a.createElement("label",{className:"round_label",htmlFor:"".concat(this.props.id)}),r.a.createElement("label",{className:c,htmlFor:"".concat(this.props.id)})),r.a.createElement("input",{type:"text",className:a,value:this.state.value,onChange:this.inputChange,onKeyDown:this.saveByEnter}),r.a.createElement("p",{className:"".concat(e," ").concat(t),onDoubleClick:this.editPlan},this.props.plan),r.a.createElement("button",{onClick:this.deleteFromArr,className:"".concat(o," inlineButton")},"X")))}}]),a}(r.a.Component),y=a(57),k=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={All:"button_active",Active:"",Done:"",Clear:"",someText:""},e.changeState=function(t){var a=Object(y.a)({},e.state);for(var n in a)n===t.target.value?a[n]="button_active":a[n]="";e.setState(a)},e.filter=function(t){e.changeState(t),e.props.changefilterState(t.target.value)},e.clearCompleted=function(t){e.changeState(t),m.a.delete("http://localhost:4000/task/delete",{data:{done:!0}}).then((function(t){e.props.clearCompleted(t.data.result)}))},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this.props.arrayLength?"bottom_container_more":"bottom_container",t=this.props.count<2?"item left":"items left";return r.a.createElement("div",{className:e},r.a.createElement("div",{className:"buttons_container"},r.a.createElement("p",{className:"text_counter"},"".concat(t," ").concat(this.props.count)),r.a.createElement("button",{type:"button",className:"button_style ".concat(this.state.All),onClick:this.filter,value:"All"},"All"),r.a.createElement("button",{type:"button",className:"button_style ".concat(this.state.Active),onClick:this.filter,value:"Active"},"Active"),r.a.createElement("button",{type:"button",className:"button_style ".concat(this.state.Done),onClick:this.filter,value:"Done"},"Done"),r.a.createElement("button",{type:"button",className:"button_style ".concat(this.state.Clear),onClick:this.clearCompleted,value:"Clear"},"Clear completed")))}}]),a}(r.a.Component),E=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={filterState:"All"},e.changefilterState=function(t){e.setState({filterState:t})},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this,t=0,a=this.state.filterState,n=this.props.items.map((function(n,o){var c=r.a.createElement(g,{key:o,editMode:n.editMode,plan:n.plan,dell:e.props.deleteItem,id:n._id,check:n.done,updateObject:e.props.updateObject,controleInput:e.props.checkInput,filtredArr:e.props.clearArr,userId:n.user_id});return"All"===a?(t++,c):"Active"!==a||n.done?"Done"===a&&n.done?(t++,c):"Clear"!==a||n.done?void 0:(t++,c):(t++,c)}));return r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"bottom_menu"},r.a.createElement("ul",{className:"list-group"},n),r.a.createElement(k,{changefilterState:this.changefilterState,count:t,arrayLength:this.props.items.length,clearCompleted:this.props.clearArr})))}}]),a}(r.a.Component),j=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={plan:"",done:!1,id:"",editMode:!1,onClick:!1},e.onHandleChange=function(t){e.setState({plan:t.target.value})},e.addByEnter=function(t){if("Enter"===t.key){if(!e.state.plan.trim())return;var a=e.state.plan,n={Authorization:localStorage.getItem("token")};m.a.post("http://localhost:4000/task/create",{plan:a},{headers:n}).then((function(t){e.props.createItem(t.data.result),e.setState({plan:""})})).catch((function(e){console.log("error",e)}))}},e.checkAllFunc=function(){m.a.put("http://localhost:4000/task/checkall",{done:!e.state.done}).then((function(t){console.log("res.data.result",t.data.result),e.props.checkAll(t.data.result),e.setState({done:!e.state.done})})).catch((function(e){console.log(e)}))},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this.state.plan,t=this.props.item>0?"more_then_one":"lower_then_one",a=this.props.click?"more_then_one":"clicked";return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("button",{className:"".concat(t," ").concat(a),onClick:this.checkAllFunc,title:"Click for check and uncheck plans"},"\u2771"),r.a.createElement("input",{className:"form-control form-control-lg",type:"text",placeholder:"What needs to be done?",value:e,onChange:this.onHandleChange,onKeyPress:this.addByEnter})))}}]),a}(r.a.Component),C=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={arrayItems:[],someClick:!0},e.createItem=function(t){var a=Object(s.a)(e.state.arrayItems);e.setState({arrayItems:[].concat(Object(s.a)(a),[t])})},e.deleteItem=function(t){console.log("@@@@@@@delete",t),m.a.delete("http://localhost:4000/task/delete/".concat(t)).then((function(t){t.data.error?alert(t.data.error):e.setState({arrayItems:t.data.result})})).catch((function(e){console.log(e)}))},e.updateObject=function(t,a,n){m.a.put("http://localhost:4000/task/".concat(t,"/update"),Object(l.a)({},n,a)).then((function(t){e.setState({arrayItems:t.data.result})})).catch((function(e){alert(e)}))},e.controlInput=function(t,a){m.a.put("http://localhost:4000/task/".concat(t,"/changeplan"),{plan:a}).then((function(t){e.setState({arrayItems:t.data.result})})).catch((function(e){alert(e)}))},e.clearCompleted=function(t){e.setState({arrayItems:Object(s.a)(t)})},e.checkAll=function(t){e.setState({arrayItems:Object(s.a)(t)})},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;m.a.get("http://localhost:4000/task/get",{headers:{authorization:localStorage.getItem("token")}}).then((function(t){e.setState({arrayItems:t.data.result})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-4"},r.a.createElement("h1",{className:"header_h1"},"todos"),r.a.createElement(j,{createItem:this.createItem,checkAll:this.checkAll,item:this.state.arrayItems.length,click:this.state.someClick,mainArr:this.state.arrayItems}),r.a.createElement(E,{checkInput:this.controlInput,items:this.state.arrayItems,deleteItem:this.deleteItem,updateObject:this.updateObject,filterArray:this.filterArray,clearArr:this.clearCompleted}))))}}]),a}(r.a.Component);c.a.render(r.a.createElement(C,null),document.getElementById("root"));var O=C,w=a(123),I=a(124),S=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={email:"",password:"",redirect:!1},e.emailFunc=function(t){var a=t.target.value;e.setState({email:a})},e.passwordFunc=function(t){var a=t.target.value;e.setState({password:a})},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"signIn"},r.a.createElement("h3",null,"Enter in your account"),r.a.createElement(w.a,{id:"outlined-basic",label:"Your @",variant:"outlined",onChange:this.emailFunc}),r.a.createElement(w.a,{id:"outlined-basic",label:"Your password",variant:"outlined",onChange:this.passwordFunc}),r.a.createElement(I.a,{variant:"outlined",color:"primary",onClick:function(){m.a.post("http://localhost:4000/auth/login",{email:e.state.email,password:e.state.password}).then((function(t){localStorage.setItem("token",t.data.token),e.setState({redirect:!0}),e.state.redirect&&e.props.history.push("/main")})).catch((function(e){alert(e)}))}},"Log in"),r.a.createElement(I.a,{href:"/reg"},"Register account"))}}]),a}(r.a.Component),A=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={userName:"",password:"",email:""},e.usernameFunc=function(t){var a=t.target.value;e.setState({userName:a})},e.emailFunc=function(t){var a=t.target.value;e.setState({email:a})},e.passwordFunc=function(t){var a=t.target.value;e.setState({password:a})},e.completeReg=function(){m.a.post("http://localhost:4000/user/reg",{userName:e.state.userName,password:e.state.password,email:e.state.email})},e}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"registration"},r.a.createElement("h3",null,"Registration"),r.a.createElement(w.a,{id:"standard-secondary",label:"Enter username",color:"secondary",onChange:this.usernameFunc}),r.a.createElement(w.a,{id:"standard-secondary",label:"Enter your @",color:"secondary",onChange:this.emailFunc}),r.a.createElement(w.a,{id:"standard-secondary",label:"Enter password",color:"secondary",onChange:this.passwordFunc}),r.a.createElement(I.a,{variant:"contained",color:"secondary",onClick:this.completeReg},"registration"))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var N=a(41),_=a(8),B=r.a.createElement(N.a,null,r.a.createElement("div",null,r.a.createElement(_.c,null,r.a.createElement(_.a,{exact:!0,path:"/",component:S}),r.a.createElement(_.a,{path:"/Reg",component:A}),r.a.createElement(_.a,{path:"/main",component:O}))));c.a.render(B,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[64,1,2]]]);